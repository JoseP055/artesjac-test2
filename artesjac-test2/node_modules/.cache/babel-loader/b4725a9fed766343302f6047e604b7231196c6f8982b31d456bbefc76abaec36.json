{"ast":null,"code":"// src/api/cart.service.js\nimport { api } from \"../api\";\nconst auth = token => token ? {\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n} : undefined;\nexport const CartAPI = {\n  // Trae tu carrito (NECESITA token)\n  mine: token => api.get(\"/cart\", auth(token)),\n  // Agregar o sumar\n  add: ({\n    productId,\n    quantity = 1,\n    productRef\n  }, token) => api.post(\"/cart/items\", {\n    productId,\n    quantity,\n    productRef\n  }, auth(token)),\n  // Cambiar cantidad exacta\n  update: ({\n    productId,\n    quantity\n  }, token) => api.put(\"/cart/items\", {\n    productId,\n    quantity\n  }, auth(token)),\n  // Eliminar un item\n  remove: (productId, token) => api.delete(`/cart/items/${productId}`, auth(token)),\n  // Vaciar carrito\n  clear: token => api.delete(\"/cart\", auth(token))\n};","map":{"version":3,"names":["api","auth","token","headers","Authorization","undefined","CartAPI","mine","get","add","productId","quantity","productRef","post","update","put","remove","delete","clear"],"sources":["C:/Users/jospa/OneDrive/Desktop/artesjac-test2/artesjac-test2/src/api/cart.service.js"],"sourcesContent":["// src/api/cart.service.js\r\nimport { api } from \"../api\";\r\n\r\nconst auth = (token) =>\r\n    token\r\n        ? { headers: { Authorization: `Bearer ${token}` } }\r\n        : undefined;\r\n\r\nexport const CartAPI = {\r\n    // Trae tu carrito (NECESITA token)\r\n    mine: (token) => api.get(\"/cart\", auth(token)),\r\n\r\n    // Agregar o sumar\r\n    add: ({ productId, quantity = 1, productRef }, token) =>\r\n        api.post(\"/cart/items\", { productId, quantity, productRef }, auth(token)),\r\n\r\n    // Cambiar cantidad exacta\r\n    update: ({ productId, quantity }, token) =>\r\n        api.put(\"/cart/items\", { productId, quantity }, auth(token)),\r\n\r\n    // Eliminar un item\r\n    remove: (productId, token) =>\r\n        api.delete(`/cart/items/${productId}`, auth(token)),\r\n\r\n    // Vaciar carrito\r\n    clear: (token) => api.delete(\"/cart\", auth(token)),\r\n};\r\n"],"mappings":"AAAA;AACA,SAASA,GAAG,QAAQ,QAAQ;AAE5B,MAAMC,IAAI,GAAIC,KAAK,IACfA,KAAK,GACC;EAAEC,OAAO,EAAE;IAAEC,aAAa,EAAE,UAAUF,KAAK;EAAG;AAAE,CAAC,GACjDG,SAAS;AAEnB,OAAO,MAAMC,OAAO,GAAG;EACnB;EACAC,IAAI,EAAGL,KAAK,IAAKF,GAAG,CAACQ,GAAG,CAAC,OAAO,EAAEP,IAAI,CAACC,KAAK,CAAC,CAAC;EAE9C;EACAO,GAAG,EAAEA,CAAC;IAAEC,SAAS;IAAEC,QAAQ,GAAG,CAAC;IAAEC;EAAW,CAAC,EAAEV,KAAK,KAChDF,GAAG,CAACa,IAAI,CAAC,aAAa,EAAE;IAAEH,SAAS;IAAEC,QAAQ;IAAEC;EAAW,CAAC,EAAEX,IAAI,CAACC,KAAK,CAAC,CAAC;EAE7E;EACAY,MAAM,EAAEA,CAAC;IAAEJ,SAAS;IAAEC;EAAS,CAAC,EAAET,KAAK,KACnCF,GAAG,CAACe,GAAG,CAAC,aAAa,EAAE;IAAEL,SAAS;IAAEC;EAAS,CAAC,EAAEV,IAAI,CAACC,KAAK,CAAC,CAAC;EAEhE;EACAc,MAAM,EAAEA,CAACN,SAAS,EAAER,KAAK,KACrBF,GAAG,CAACiB,MAAM,CAAC,eAAeP,SAAS,EAAE,EAAET,IAAI,CAACC,KAAK,CAAC,CAAC;EAEvD;EACAgB,KAAK,EAAGhB,KAAK,IAAKF,GAAG,CAACiB,MAAM,CAAC,OAAO,EAAEhB,IAAI,CAACC,KAAK,CAAC;AACrD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}