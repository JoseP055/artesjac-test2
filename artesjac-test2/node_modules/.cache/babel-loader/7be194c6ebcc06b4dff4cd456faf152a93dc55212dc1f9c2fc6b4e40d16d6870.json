{"ast":null,"code":"// src/utils/resolveImgUrl.js\nexport function resolveImgUrl(src) {\n  if (!src) return \"\";\n\n  // 1) URLs absolutas\n  if (/^https?:\\/\\//i.test(src)) {\n    const UPG = process.env.REACT_APP_UPGRADE_HTTP_IMAGES === \"1\";\n    // Si es http y activaste \"upgrade\", intenta https\n    if (UPG && /^http:\\/\\//i.test(src)) {\n      src = src.replace(/^http:\\/\\//i, \"https://\");\n    }\n\n    // 2) ¿Querés proxy para todo lo externo?\n    const USE_PROXY = process.env.REACT_APP_PROXY_IMAGES === \"1\";\n    const API = process.env.REACT_APP_API_URL || \"http://localhost:4000\";\n    return USE_PROXY ? `${API}/api/img-proxy?url=${encodeURIComponent(src)}` : src;\n  }\n\n  // 3) Rutas relativas (tuyas)\n  const BASE = process.env.REACT_APP_ASSETS_URL || \"http://localhost:4000\";\n  return `${BASE}${src.startsWith(\"/\") ? src : `/${src}`}`;\n}","map":{"version":3,"names":["resolveImgUrl","src","test","UPG","process","env","REACT_APP_UPGRADE_HTTP_IMAGES","replace","USE_PROXY","REACT_APP_PROXY_IMAGES","API","REACT_APP_API_URL","encodeURIComponent","BASE","REACT_APP_ASSETS_URL","startsWith"],"sources":["C:/Users/jospa/OneDrive/Desktop/artesjac-test2/artesjac-test2/src/utils/resolveImgUrl.js"],"sourcesContent":["// src/utils/resolveImgUrl.js\r\nexport function resolveImgUrl(src) {\r\n    if (!src) return \"\";\r\n\r\n    // 1) URLs absolutas\r\n    if (/^https?:\\/\\//i.test(src)) {\r\n        const UPG = process.env.REACT_APP_UPGRADE_HTTP_IMAGES === \"1\";\r\n        // Si es http y activaste \"upgrade\", intenta https\r\n        if (UPG && /^http:\\/\\//i.test(src)) {\r\n            src = src.replace(/^http:\\/\\//i, \"https://\");\r\n        }\r\n\r\n        // 2) ¿Querés proxy para todo lo externo?\r\n        const USE_PROXY = process.env.REACT_APP_PROXY_IMAGES === \"1\";\r\n        const API = process.env.REACT_APP_API_URL || \"http://localhost:4000\";\r\n        return USE_PROXY ? `${API}/api/img-proxy?url=${encodeURIComponent(src)}` : src;\r\n    }\r\n\r\n    // 3) Rutas relativas (tuyas)\r\n    const BASE = process.env.REACT_APP_ASSETS_URL || \"http://localhost:4000\";\r\n    return `${BASE}${src.startsWith(\"/\") ? src : `/${src}`}`;\r\n}\r\n"],"mappings":"AAAA;AACA,OAAO,SAASA,aAAaA,CAACC,GAAG,EAAE;EAC/B,IAAI,CAACA,GAAG,EAAE,OAAO,EAAE;;EAEnB;EACA,IAAI,eAAe,CAACC,IAAI,CAACD,GAAG,CAAC,EAAE;IAC3B,MAAME,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,6BAA6B,KAAK,GAAG;IAC7D;IACA,IAAIH,GAAG,IAAI,aAAa,CAACD,IAAI,CAACD,GAAG,CAAC,EAAE;MAChCA,GAAG,GAAGA,GAAG,CAACM,OAAO,CAAC,aAAa,EAAE,UAAU,CAAC;IAChD;;IAEA;IACA,MAAMC,SAAS,GAAGJ,OAAO,CAACC,GAAG,CAACI,sBAAsB,KAAK,GAAG;IAC5D,MAAMC,GAAG,GAAGN,OAAO,CAACC,GAAG,CAACM,iBAAiB,IAAI,uBAAuB;IACpE,OAAOH,SAAS,GAAG,GAAGE,GAAG,sBAAsBE,kBAAkB,CAACX,GAAG,CAAC,EAAE,GAAGA,GAAG;EAClF;;EAEA;EACA,MAAMY,IAAI,GAAGT,OAAO,CAACC,GAAG,CAACS,oBAAoB,IAAI,uBAAuB;EACxE,OAAO,GAAGD,IAAI,GAAGZ,GAAG,CAACc,UAAU,CAAC,GAAG,CAAC,GAAGd,GAAG,GAAG,IAAIA,GAAG,EAAE,EAAE;AAC5D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}